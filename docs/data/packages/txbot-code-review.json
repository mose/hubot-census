{"_id":"txbot-code-review","_rev":"3-c2e02f3f86f622ebb47797a5b06c9a2a","name":"txbot-code-review","description":"A Hubot script for GitHub code review on Slack; forked from the lovely hubot-code-review package by @alleyinteractive.","dist-tags":{"latest":"1.1.1"},"versions":{"1.0.0":{"name":"txbot-code-review","version":"1.0.0","author":{"name":"Jesse Stuart","email":"jesse.stuart@todaytix.com"},"description":"A Hubot script for GitHub code review on Slack; forked from the script by alleyinteractive.","main":"index.coffee","repository":{"type":"git","url":"git+https://github.com/jessestuart/txbot-code-review.git"},"keywords":["hubot","code review","codereview","github","slack","chatops","todaytix"],"homepage":"https://github.com/jessestuart/txbot-code-review","scripts":{"test":"HUBOT_CODE_REVIEW_EMOJI_APPROVE=true node_modules/.bin/jasmine-node --verbose --coffee --color --forceexit test/","lint":"coffeelint src/","lint-tests":"eslint -c .eslintrc --ext .js ./test"},"dependencies":{"githubot":"^1.0.0","moment":"^2.8.3","node-schedule":"^1.0.0","hubot":"^2.17.0","hubot-redis-brain":"^0.0.3","punycode":"^2.0.1"},"peerDependencies":{"hubot-slack":"^4.3.1"},"engines":{"node":"6.x"},"bugs":{"url":"https://github.com/jessestuart/txbot-code-review"},"license":"GPL-3.0","devDependencies":{"coffee-script":"^1.12.2","coffeelint":"^1.16.0","eslint":"^3.3.1","eslint-config-airbnb":"^14.1.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^4.0.0","eslint-plugin-react":"^6.4.1","hubot-mock-adapter":"^1.0.0","jasmine-custom-message":"^0.8.2","jasmine-node":"^1.14.5","supertest":"~3.0.0"},"gitHead":"c5a561d8bd3640e52ecbcefe8de0bc0d0fa37c74","_id":"txbot-code-review@1.0.0","_shasum":"8c284ad76f844ae6fb9bdd0487b6d2f9f296bcbf","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.9.0","_npmUser":{"name":"jesses","email":"jdstuart@icloud.com"},"dist":{"shasum":"8c284ad76f844ae6fb9bdd0487b6d2f9f296bcbf","tarball":"https://registry.npmjs.org/txbot-code-review/-/txbot-code-review-1.0.0.tgz"},"maintainers":[{"name":"jesses","email":"jdstuart@icloud.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/txbot-code-review-1.0.0.tgz_1493664696450_0.9481968032196164"}},"1.1.0":{"name":"txbot-code-review","version":"1.1.0","author":{"name":"Jesse Stuart","email":"jesse.stuart@todaytix.com"},"description":"A Hubot script for GitHub code review on Slack; forked from the script by alleyinteractive.","main":"index.coffee","repository":{"type":"git","url":"git+https://github.com/jessestuart/txbot-code-review.git"},"keywords":["hubot","code review","codereview","github","slack","chatops","todaytix"],"homepage":"https://github.com/jessestuart/txbot-code-review","scripts":{"test":"HUBOT_CODE_REVIEW_EMOJI_APPROVE=true node_modules/.bin/jasmine-node --verbose --coffee --color --forceexit test/","lint":"coffeelint src/","lint-tests":"eslint -c .eslintrc --ext .js ./test"},"dependencies":{"githubot":"^1.0.0","moment":"^2.8.3","node-schedule":"^1.0.0","hubot":"^2.17.0","hubot-redis-brain":"^0.0.3","punycode":"^2.0.1"},"peerDependencies":{"hubot-slack":"^4.3.1"},"engines":{"node":"6.x"},"bugs":{"url":"https://github.com/jessestuart/txbot-code-review"},"license":"GPL-3.0","devDependencies":{"coffee-script":"^1.12.2","coffeelint":"^1.16.0","eslint":"^3.3.1","eslint-config-airbnb":"^14.1.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^4.0.0","eslint-plugin-react":"^6.4.1","hubot-mock-adapter":"^1.0.0","jasmine-custom-message":"^0.8.2","jasmine-node":"^1.14.5","supertest":"~3.0.0"},"gitHead":"ea1e7f3a35e0296f6c2059f84120acfd213eb753","_id":"txbot-code-review@1.1.0","_npmVersion":"5.0.2","_nodeVersion":"6.10.3","_npmUser":{"name":"jesses","email":"jdstuart@icloud.com"},"dist":{"integrity":"sha512-qlKvPorHQGrZDUySESztHcqTiVvhNrediqJU13NTr/SDQHSjFeikFpZuXZHN3MrxMwr2SxGJuibprWMi+h0NHg==","shasum":"6eefd018d676032e4f9a76b0dbf8482ca45cd481","tarball":"https://registry.npmjs.org/txbot-code-review/-/txbot-code-review-1.1.0.tgz"},"maintainers":[{"name":"jesses","email":"jdstuart@icloud.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/txbot-code-review-1.1.0.tgz_1496686042125_0.1284513366408646"}},"1.1.1":{"name":"txbot-code-review","version":"1.1.1","author":{"name":"Jesse Stuart","email":"jesse.stuart@todaytix.com"},"description":"A Hubot script for GitHub code review on Slack; forked from the lovely hubot-code-review package by @alleyinteractive.","main":"index.coffee","repository":{"type":"git","url":"git+https://github.com/jessestuart/txbot-code-review.git"},"keywords":["hubot","code review","codereview","github","slack","chatops","todaytix"],"homepage":"https://github.com/jessestuart/txbot-code-review","scripts":{"test":"HUBOT_CODE_REVIEW_EMOJI_APPROVE=true node_modules/.bin/jasmine-node --verbose --coffee --color --forceexit test/","lint":"coffeelint src/","lint-tests":"eslint -c .eslintrc --ext .js ./test"},"dependencies":{"githubot":"^1.0.0","moment":"^2.8.3","node-schedule":"^1.0.0","hubot":"^2.17.0","hubot-redis-brain":"^0.0.3","punycode":"^2.0.1"},"peerDependencies":{"hubot-slack":"^4.3.1"},"engines":{"node":"6.x"},"bugs":{"url":"https://github.com/jessestuart/txbot-code-review"},"license":"GPL-3.0","devDependencies":{"coffee-script":"^1.12.2","coffeelint":"^1.16.0","eslint":"^3.3.1","eslint-config-airbnb":"^15.0.1","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^5.0.3","eslint-plugin-react":"^7.0.1","hubot-mock-adapter":"^1.0.0","jasmine-custom-message":"^0.8.2","jasmine-node":"^1.14.5","supertest":"~3.0.0"},"gitHead":"04cfa45acfb2595dd240f5f8f904e59c334c112a","_id":"txbot-code-review@1.1.1","_npmVersion":"5.0.3","_nodeVersion":"8.1.2","_npmUser":{"name":"jesses","email":"jdstuart@icloud.com"},"dist":{"integrity":"sha512-8esVRlivOMgHdToX63BP7+d5CY3R5AZL1sqAB3pvbPya/+QglDjB4znYNUHE6IM2biRNODiNuZkv0WKn5bJu7g==","shasum":"f9cb6a1e20f71a0e5dbd6f6291352535ebdacf05","tarball":"https://registry.npmjs.org/txbot-code-review/-/txbot-code-review-1.1.1.tgz"},"maintainers":[{"name":"jesses","email":"jdstuart@icloud.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/txbot-code-review-1.1.1.tgz_1498770322242_0.6008771141059697"}}},"readme":"hubot-code-review\n===================\n\n[![Travis branch](https://img.shields.io/travis/alleyinteractive/hubot-code-review/master.svg?maxAge=2592000)](https://travis-ci.org/alleyinteractive/hubot-code-review)\n[![npm (scoped)](https://img.shields.io/npm/v/hubot-code-review.svg?maxAge=2592000)](https://www.npmjs.com/package/hubot-code-review)\n\nA Hubot script for GitHub code review on Slack.\n\n## tldr;\n\nDrop a GitHub pull request url into a room, and Hubot adds the pull request\nto the room's queue (each room has its own queue)...\n\n![](/docs/images/submit-pr.png)\n\nEvery 5 minutes, Hubot reports the current code review queue to the room (after an hour of no interaction, it messages @here with a warning and switches to hourly reminders)...\n\n![](/docs/images/remind-pr.png)\n\nA co-worker can claim it for review...\n\n![](/docs/images/claim-pr.png)\n\nOnce the review is complete, a GitHub webhook listener catches approvals and Direct Messages the submitter:\n\n![](/docs/images/approve-pr.png)\n\n## Requirements\n\nYou'll need [Hubot](http://hubot.github.com/) and\n[hubot-slack](https://github.com/slackapi/hubot-slack) > 4\n\n## Installation via NPM\n\nRun the following command to install this module as a Hubot dependency\n\n```\nnpm install hubot-code-review --save\n```\n\nConfirm that hubot-code-review appears as a dependency in your Hubot package.json file.\n\n```\n\"dependencies\": {\n  ...\n  \"hubot-code-review\": \"*\",\n  ...\n}\n```\n\nTo enable the script, add the hubot-code-review entry to the external-scripts.json file (you may need to create this file).\n\n```\n[\n  ...\n  \"hubot-code-review\",\n  ...\n]\n```\n\n## Configuration\n\nCode review queuing and notifications will work out of the box, but magic like\nfile type lookups or DMs when your PR is approved/rejected require 2 things:\n\n1) **Create a `hubot-code-review` webhook in GitHub so that Hubot can notice any changes**\n\n- [GitHub webhook instructions for hubot-code-review](/docs/github-webhook.md)\n\n2) **Set Environmental variables:**\n\n- If ```HUBOT_GITHUB_TOKEN``` is set, Hubot can query the GitHub api for file type information on PR submission. Check out the instructions for configuring\n[`HUBOT_GITHUB_TOKEN` for hubot-code-review](/docs/HUBOT_GITHUB_TOKEN.md)\n\n- Set ```HUBOT_CODE_REVIEW_REMINDER_MINUTES``` to customize the number of minutes between pending code review prompts during the first hour of inactivity (the default is 5, and the effective max is 60). Note that hourly reminders will still take effect after the first 60 minutes.\n\n- Set ```HUBOT_CODE_REVIEW_KARMA_DISABLED``` to `true` to prevent Hubot from listening for any\n[code review karma](/docs/code-review-karma.md) commands.\n\n- ```HUBOT_CODE_REVIEW_EMOJI_APPROVE``` an [Alley Interactive](https://www.alleyinteractive.com) cultural relic before the days GitHub incorporated [pull request reviews](https://help.github.com/articles/about-pull-request-reviews/). If this variable is `true`, a comment on the PR that includes one or more emoji conveys PR approval\nand will DM the submitter accordingly.\n\n\n## Usage\n\n`hubot help crs` - See a help document explaining how to use.\n\n\t{GitHub pull request URL} [@user]   Add PR to queue and (optionally) notify @user or #channel\n\t[hubot ]on it                       Claim the oldest _new_ PR in the queue\n\t[hubot ]userName is on it           Tell hubot that userName has claimed the oldest _new_ PR in the queue\n\ton *                                Claim all _new_ PRs\n\t[userName is ]on cool-repo/123      Claim cool-repo/123 if no one else has claimed it\n\t[userName is ]on cool               Claim a _new_ PR whose slug matches cool\n\thubot (nm|ignore) cool-repo/123\t\tDelete cool-repo/123 from queue regardless of status\n\thubot (nm|ignore) cool            \tDelete most recently added PR whose slug matches cool\n\thubot (nm|ignore)                   Delete most recently added PR from the queue regardless of status\n\thubot redo cool-repo/123            Allow another review _without_ decrementing previous reviewer's score\n\thubot (unclaim|reset) cool-repo/123 Reset CR status to new/unclaimed _and_ decrement reviewer's score\n\thubot list crs                      List all _unclaimed_ CRs in the queue\n\thubot list [status] crs             List CRs with matching optional status\n_Note that some commands require direct @hubot, some don't, and some work either way._\n\n\n*Code review statuses*\n\n\tnew\t\t\tPR has just been added to the queue, no one is on it.\n\tclaimed\t\tSomeone is on this PR\n\tapproved\tPR was approved. Requires GitHub webhook.\n\tmerged\t\tPR was merged and closed. Requires GitHub webhook.\n\tclosed\t\tPR was closed without merging. Requires GitHub webhook.\n\n\n","maintainers":[{"name":"jesses","email":"jdstuart@icloud.com"}],"time":{"modified":"2017-06-29T21:05:24.052Z","created":"2017-05-01T18:51:36.923Z","1.0.0":"2017-05-01T18:51:36.923Z","1.1.0":"2017-06-05T18:07:23.751Z","1.1.1":"2017-06-29T21:05:24.052Z"},"homepage":"https://github.com/jessestuart/txbot-code-review","keywords":["hubot","code review","codereview","github","slack","chatops","todaytix"],"repository":{"type":"git","url":"git+https://github.com/jessestuart/txbot-code-review.git"},"author":{"name":"Jesse Stuart","email":"jesse.stuart@todaytix.com"},"bugs":{"url":"https://github.com/jessestuart/txbot-code-review"},"license":"GPL-3.0","readmeFilename":"README.md"}
