{"_id":"hubot-bangbang","_rev":"2-3b4d2f8483a7ae11cc40b5078e7e368a","name":"hubot-bangbang","description":"Execute changeable pre-defined shell commands via hubot in a secure way !!","dist-tags":{"latest":"0.1.3"},"versions":{"0.0.0":{"name":"hubot-bangbang","description":"Execute pre-configured command via Hubot !!","version":"0.0.0","author":{"name":"lukas.pustina@gmail.co"},"license":"MIT","keywords":["hubot","bangbang"],"repository":{"type":"git","url":"git://github.com/lukaspustina/hubot-bangbang.git"},"bugs":{"url":"https://github.com/lukaspustina/hubot-bangbang/issues"},"dependencies":{"hubot-auth":"^1.3.0","log":"^1.4.0"},"peerDependencies":{"hubot":"2.x"},"devDependencies":{"chai":"^2.1.1","coffee-script":"^1.10.0","hubot":"2.x","hubot-test-helper":"^1.3.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register \"$@\""},"gitHead":"97379fc29283767f1745da3e4daba0ea3ca35cd4","homepage":"https://github.com/lukaspustina/hubot-bangbang#readme","_id":"hubot-bangbang@0.0.0","_shasum":"1b0693b423d920bf2ab270ca62e7339cfefa5a15","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.3.0","_npmUser":{"name":"lukaspustina","email":"lukas.pustina@gmail.com"},"dist":{"shasum":"1b0693b423d920bf2ab270ca62e7339cfefa5a15","tarball":"http://registry.npmjs.org/hubot-bangbang/-/hubot-bangbang-0.0.0.tgz"},"maintainers":[{"name":"lukaspustina","email":"lukas.pustina@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-bangbang-0.0.0.tgz_1469515122107_0.6103695565834641"}},"0.1.0":{"name":"hubot-bangbang","description":"Execute changeable pre-defined shell commands via hubot in a secure way !!","version":"0.1.0","author":{"name":"lukas.pustina@gmail.co"},"license":"MIT","keywords":["hubot","hubot-scripts","bangbang"],"repository":{"type":"git","url":"git://github.com/lukaspustina/hubot-bangbang.git"},"bugs":{"url":"https://github.com/lukaspustina/hubot-bangbang/issues"},"dependencies":{"hubot-auth":"^1.3.0","log":"^1.4.0"},"peerDependencies":{"hubot":"2.x"},"devDependencies":{"bluebird":"^3.4.1","chai":"^2.1.1","co":"^4.6.0","coffee-script":"^1.10.0","hubot":"2.x","hubot-test-helper":"^1.3.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register \"$@\""},"gitHead":"80a8d2d295240f2f796aa3e703e6fa23f16100c0","homepage":"https://github.com/lukaspustina/hubot-bangbang#readme","_id":"hubot-bangbang@0.1.0","_shasum":"e5ef1279ccd616dcbbe521065aa5fd73f5b6bcfd","_from":".","_npmVersion":"2.15.4","_nodeVersion":"4.4.6","_npmUser":{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"},"dist":{"shasum":"e5ef1279ccd616dcbbe521065aa5fd73f5b6bcfd","tarball":"http://registry.npmjs.org/hubot-bangbang/-/hubot-bangbang-0.1.0.tgz"},"maintainers":[{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-bangbang-0.1.0.tgz_1469691615870_0.5157983226235956"}},"0.1.1":{"name":"hubot-bangbang","description":"Execute changeable pre-defined shell commands via hubot in a secure way !!","version":"0.1.1","author":{"name":"lukas.pustina@gmail.co"},"license":"MIT","keywords":["hubot","hubot-scripts","bangbang"],"repository":{"type":"git","url":"git://github.com/lukaspustina/hubot-bangbang.git"},"bugs":{"url":"https://github.com/lukaspustina/hubot-bangbang/issues"},"dependencies":{"hubot-auth":"^1.3.0","log":"^1.4.0"},"peerDependencies":{"hubot":"2.x"},"devDependencies":{"bluebird":"^3.4.1","chai":"^2.1.1","co":"^4.6.0","coffee-script":"^1.10.0","hubot":"2.x","hubot-test-helper":"^1.3.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register \"$@\""},"gitHead":"bd9d84e5b6e3928041c3eefb74e9ce57875c791b","homepage":"https://github.com/lukaspustina/hubot-bangbang#readme","_id":"hubot-bangbang@0.1.1","_shasum":"a0cc4ce1706b78f80289d4ed8abf9b4a056d185c","_from":".","_npmVersion":"2.15.8","_nodeVersion":"4.4.7","_npmUser":{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"},"dist":{"shasum":"a0cc4ce1706b78f80289d4ed8abf9b4a056d185c","tarball":"http://registry.npmjs.org/hubot-bangbang/-/hubot-bangbang-0.1.1.tgz"},"maintainers":[{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-bangbang-0.1.1.tgz_1470668969712_0.5732225645333529"}},"0.1.2":{"name":"hubot-bangbang","description":"Execute changeable pre-defined shell commands via hubot in a secure way !!","version":"0.1.2","author":{"name":"lukas.pustina@gmail.co"},"license":"MIT","keywords":["hubot","hubot-scripts","bangbang"],"repository":{"type":"git","url":"git://github.com/lukaspustina/hubot-bangbang.git"},"bugs":{"url":"https://github.com/lukaspustina/hubot-bangbang/issues"},"dependencies":{"hubot-auth":"^1.3.0","log":"^1.4.0"},"peerDependencies":{"hubot":"2.x"},"devDependencies":{"bluebird":"^3.4.1","chai":"^2.1.1","co":"^4.6.0","coffee-script":"^1.10.0","hubot":"2.x","hubot-test-helper":"^1.3.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register \"$@\""},"gitHead":"03b5cb8d89644ac7f5d20a3b9a7a530203b66bb1","homepage":"https://github.com/lukaspustina/hubot-bangbang#readme","_id":"hubot-bangbang@0.1.2","_shasum":"69f74f352bd6952f16b907bb18f5b57a661b6abd","_from":".","_npmVersion":"2.15.8","_nodeVersion":"4.4.7","_npmUser":{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"},"dist":{"shasum":"69f74f352bd6952f16b907bb18f5b57a661b6abd","tarball":"http://registry.npmjs.org/hubot-bangbang/-/hubot-bangbang-0.1.2.tgz"},"maintainers":[{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/hubot-bangbang-0.1.2.tgz_1470668972825_0.633940881351009"}},"0.1.3":{"name":"hubot-bangbang","description":"Execute changeable pre-defined shell commands via hubot in a secure way !!","version":"0.1.3","author":{"name":"lukas.pustina@gmail.co"},"license":"MIT","keywords":["hubot","hubot-scripts","bangbang"],"repository":{"type":"git","url":"git://github.com/lukaspustina/hubot-bangbang.git"},"bugs":{"url":"https://github.com/lukaspustina/hubot-bangbang/issues"},"dependencies":{"hubot-auth":"1.3.0","log":"^1.4.0"},"peerDependencies":{"hubot":"2.x"},"devDependencies":{"bluebird":"^3.4.1","chai":"^2.1.1","co":"^4.6.0","coffee-script":"^1.10.0","hubot":"2.x","hubot-test-helper":"^1.3.0","matchdep":"~0.3.0","mocha":"^2.1.0","sinon":"^1.13.0","sinon-chai":"^2.7.0"},"main":"index.coffee","scripts":{"test":"mocha --compilers coffee:coffee-script/register \"$@\""},"gitHead":"8379871df12943571f6b68b2a8ad0ab69046d0f2","homepage":"https://github.com/lukaspustina/hubot-bangbang#readme","_id":"hubot-bangbang@0.1.3","_shasum":"b1a94934e09b9ecd18393779a9e39abdc5b6c9ae","_from":".","_npmVersion":"2.15.9","_nodeVersion":"4.5.0","_npmUser":{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"},"dist":{"shasum":"b1a94934e09b9ecd18393779a9e39abdc5b6c9ae","tarball":"http://registry.npmjs.org/hubot-bangbang/-/hubot-bangbang-0.1.3.tgz"},"maintainers":[{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-bangbang-0.1.3.tgz_1474534090215_0.459411112125963"}}},"readme":"# hubot-bangbang\n\n[![Build Status](https://travis-ci.org/lukaspustina/hubot-bangbang.svg?branch=master)](https://travis-ci.org/lukaspustina/hubot-bangbang)\n\n[![NPM](https://nodei.co/npm/hubot-bangbang.png)](https://nodei.co/npm/hubot-bangbang/)\n\nExecute changeable pre-defined shell commands via hubot in a secure way !!\n\nSee [`src/bangbang.coffee`](src/bangbang.coffee) for full documentation.\n\n## Installation\n\nIn hubot project repo, run:\n\n`npm install hubot-bangbang --save`\n\nThen add **hubot-bangbang** to your `external-scripts.json`:\n\n```json\n[\n  \"hubot-bangbang\"\n]\n```\n\n## Configuration\n\n**hubot-bangbang** uses [hubot-auth](https://github.com/hubot-scripts/hubot-auth) and is configured via the following environment variables:\n\n* `HUBOT_BANGBANG_COMMANDS_FILE` -- File to load executable commands from; see below for file format.\n* `HUBOT_BANGBANG_TIMEOUT` -- Timeout for shell executions of commands; default is `10000`.\n* `HUBOT_BANGBANG_LOG_LEVEL` --  Log level, default is `info`.\n* `HUBOT_BANGBANG_ROLE` -- If set, auth role required to interact with Bosun. Default is `bangbang`.\n* `HUBOT_BANGBANG_SLACK` -- If `yes` enables rich text formatting for Slack, default is `no`.\n\n## Commands File Format\n\n**hubot-bangbang** executes pre-defined shell commands. These commands are defined by a commands file which is passed via the environment variable `HUBOT_BANGBANG_COMMANDS_FILE` to **hubot-bangbang**. The file must contain a JSON object array of zero or more objects. The file may be modified and reloaded during the runtime of hubot. See the [Commands](#Commands) section for details.\n\nFor each object, the following keys are used:\n\n* `name` -- name of the command (mandatory)\n* `description` -- description of the command; used in some Hubot replies (mandatory)\n* `regex` -- the regular expression used by Hubot to recognize the command; may contain capture groups useful for parameters (mandatory)\n* `exec` -- the shell command to execute; may use `$n` with _n in [1..]_ to address capture groups; (mandatory)\n* `output_type` -- the format to set the output in; valid alternatives are `markdown, pre, plain, ignore` (mandatory)\n* `timeout` -- timeout for shell execution; defaults to environment variable `HUBOT_BANGBANG_TIMEOUT` (optional)\n* `role` -- if set, a user must have this role in addition to\n* `HUBOT_BANGBANG_ROLE`; allows the admin to protect some commands with additional access control (optional)\n\n### Output Formats\n\nThe output may be formatted in different styles. This is especially useful when **hubot-bangbang** is used with Slack. The following format alternatives may be used:\n\n* `markdown` -- The output is already Markdown formatted and will be passed as Markdown to Slack.\n* `pre` -- The output format is plain text, but will formatted as _pre-formatted code block_. This means, the output will be surrounded by _```_ and passed as Markdown to Slack.\n* `plain` -- The output is passed unmodified as plain text.\n* `ignore` -- The output is ignored.\n\n### Example\n\nIn the example below, there are two commands. The first command, _date_, specifies the mandatory keys only. The second command, _use report_, retrieves a [USE report](https://github.com/lukaspustina/use_report) from a remote server. Since the report is formatted in Markdown, the command will pass the output as Markdown to Slack for a pretty presentation. In order to retrieve a use report, the user must posses both roles, _bangbang_ as well as _bangbang.use_report_.\n\n```json\n[\n  {\n    \"name\": \"date\",\n    \"description\": \"retrieve local date from the specified host\",\n    \"regex\": \"get date for (.+)\",\n    \"exec\": \"echo ssh $1 date\",\n    \"output_type\": \"plain\"\n  },\n  {\n    \"name\": \"use report\",\n    \"description\": \"retrieve an USE report from the specified host\",\n    \"regex\": \"get use report for (.+)\",\n    \"exec\": \"ssh $1 usereport.py\",\n    \"output_type\": \"markdown\",\n    \"timeout\": 60,\n    \"role\": \"bangbang.use_report\"\n  }\n]\n\n```\n\n## Commands\n\n**hubot-bangbang** process two types of commands. General commands are used to interact with **hubot-bangbang** and are shown when Hubot is asked for help. Shell commands are load from the commands file. In order to run a shell command, first you have type the prefix `!!` followed by a space and then the a command that is recognized by one of the regular expressions defined for the shell commands.\n\n### General Commands\n\n* `show bangbang commands `-- Shows currently available shell commands.\n* `reload bangbang commands` -- Reloads shell commands definition from commands file.\n\n### Shell Commands\n\nYou can run the above commands like this:\n\n> @hubot !! get date for www.test.com\n\nand\n\n> @ubot !! get use report for www.test.com\n\n## Sample Interaction\n\n```\n```\n\n## NPM Module\n\nhttps://www.npmjs.com/package/hubot-bangbang\n","maintainers":[{"name":"lukas.pustina","email":"lukas.pustina@gmail.com"}],"time":{"modified":"2016-09-22T08:48:11.968Z","created":"2016-07-26T06:38:44.327Z","0.0.0":"2016-07-26T06:38:44.327Z","0.1.0":"2016-07-28T07:40:18.668Z","0.1.1":"2016-08-08T15:09:31.578Z","0.1.2":"2016-08-08T15:09:35.103Z","0.1.3":"2016-09-22T08:48:11.968Z"},"homepage":"https://github.com/lukaspustina/hubot-bangbang#readme","keywords":["hubot","hubot-scripts","bangbang"],"repository":{"type":"git","url":"git://github.com/lukaspustina/hubot-bangbang.git"},"author":{"name":"lukas.pustina@gmail.co"},"bugs":{"url":"https://github.com/lukaspustina/hubot-bangbang/issues"},"license":"MIT","readmeFilename":"README.md"}
